{% comment %}theme-check-disable NestedSnippet, ImgWidthAndHeight{% endcomment %}
<loading-bar data-time="1500ms"></loading-bar>
<div class="modal-wrap modal-quickview {% unless settings.quick_shop_min_height %}min-height-off{% endunless %}"
  style="display: none;" id="quickView">
  <div data-load="loading"></div>
</div>

{%- if settings.checkout_agreement -%}
<div class="modal-wrap modal-info-content" style="display: none;" id="agreementInfo"></div>
{%- endif -%}

{% render 'modal-newsletters-subscription' %}

{%- if settings.newsletter_popup_yes -%}
<!-- Floating Newsletter Button -->
<div id="newsletter-floating-btn" class="newsletter-floating-btn" style="display: none;">
  <button class="newsletter-floating-btn__content" id="newsletter-floating-btn-open">
    <span class="newsletter-floating-btn__text">Get 10% Off</span>
  </button>
  <button class="newsletter-floating-btn__close" id="newsletter-floating-btn-close" aria-label="Close">
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 4L4 12M4 4L12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
    </svg>
  </button>
</div>
{%- endif -%}

<div id="popupSubscribeSuccess" class="modal-wrap modal-wrap--alert modal-wrap--success px-5 py-6"
  style="display: none;">
  <div class="modal-wrap-text text-center">
    <svg width="150" height="150" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"
      class="mx-auto mb-2">
      <rect x="18" y="4" width="28" height="56" rx="6" fill="#D9D9D9" stroke="black" stroke-width="2"></rect>
      <rect x="26" y="10" width="12" height="2" rx="1" fill="black"></rect>
      <rect x="30" y="52" width="4" height="4" rx="2" fill="black"></rect>
      <g>
        <rect x="12" y="20" width="28" height="16" rx="2" fill="white" stroke="black" stroke-width="2"></rect>
        <rect x="16" y="24" width="20" height="2" rx="1" fill="black"></rect>
        <rect x="16" y="28" width="16" height="2" rx="1" fill="black"></rect>
        <path d="M20 36 L20 40 L24 36" fill="white" stroke="black" stroke-width="2"></path>
      </g>
    </svg>
    <div class="text-[40px] font-bold leading-[40px] text-[#000000]">{{ 'newsletter.success' | t }}</div>
    <div class="text-[#000000]">{{ 'theme.general.newsletter_success_subtext' | t }}</div>
    {% comment %} <div class="mt-3">
      <a href="#" class="btn btn--showmore" data-fancybox-close>{{ 'theme.general.got_it' | t }}</a>
    </div> {% endcomment %}
  </div>
</div>

<div class="modal-wrap modal-info-content" style="display: none; width: 970px;" id="modal-subscription-policy"></div>
<div class="modal-wrap collectionmodal" style="display: none;" id="collectionModal">
  <div data-load="loading"></div>
</div>

{%- if settings.back_to_top_desktop -%}
<a class="back-to-top js-back-to-top compensate-for-scrollbar" href="#" title="Scroll To Top">
  <i class="icon-wrap">{% render 'icon-arrow-left' %}</i>
  {%- unless settings.use_ajax_scroll -%}
  <svg class="svg-progress {% unless settings.rounded_buttons_disable == " 1" %}svg-progress--circle{% endunless %}"
    width="100" height="100" viewBox="0 0 100 100" style="">
    {%- if settings.rounded_buttons_disable == "1" -%}
    <rect width="50" height="50" fill="none" stroke-width="12" pathLength="100"></rect>
    {%- else -%}
    <circle class="percent" cx="50" cy="50" r="46" fill="none" stroke-width="8" pathLength="100" style=""></circle>
    {%- endif -%}
  </svg>
  {%- endunless -%}
</a>
{%- endif -%}

{%- if settings.scrolling_image_effect -%}
{%- liquid
assign show_scrolling_effect = false
if settings.scrolling_image_effect_home_only_yes
if template == 'index'
assign show_scrolling_effect = true
endif
else
assign show_scrolling_effect = true
endif
-%}
{% if show_scrolling_effect %}
<rotate-aside {% if settings.scrolling_image_effect_only_desktop %}class="d-none d-lg-block" {% endif %}
  data-settings='{"scrollStyle":{{ settings.scrolling_image_effect_rotate }}, "itemWidthRandom":{{ settings.scrolling_image_effect_width_random }}, "itemWidth":{{ settings.scrolling_image_effect_width }}, "itemsPerScreen": {{ settings.scrolling_image_effect_per_screen }}, "edgeSpace": {{ settings.scrolling_image_effect_space }}}'>
  {%- if settings.scrolling_image_preset == 'multicolor_shapes' -%}
  <div class="rotate-aside-item">
    <div class="ic--ignore-global-round image-container" style="padding-bottom: 106%;"><img
        src="{{ 'rotate-aside1.png' | asset_img_url: 'master' }}" alt=""></div>
  </div>
  <div class="rotate-aside-item">
    <div class="ic--ignore-global-round image-container" style="padding-bottom: 100%;"><img
        src="{{ 'rotate-aside2.png' | asset_img_url: 'master' }}" alt=""></div>
  </div>
  <div class="rotate-aside-item">
    <div class="ic--ignore-global-round image-container" style="padding-bottom: 100%;"><img
        src="{{ 'rotate-aside3.png' | asset_img_url: 'master' }}" alt=""></div>
  </div>
  <div class="rotate-aside-item">
    <div class="ic--ignore-global-round image-container" style="padding-bottom: 106%;"><img
        src="{{ 'rotate-aside4.png' | asset_img_url: 'master' }}" alt=""></div>
  </div>
  <div class="rotate-aside-item">
    <div class="ic--ignore-global-round image-container" style="padding-bottom: 100%;"><img
        src="{{ 'rotate-aside5.png' | asset_img_url: 'master' }}" alt=""></div>
  </div>
  <div class="rotate-aside-item">
    <div class="ic--ignore-global-round image-container" style="padding-bottom: 100%;"><img
        src="{{ 'rotate-aside6.png' | asset_img_url: 'master' }}" alt=""></div>
  </div>
  <div class="rotate-aside-item">
    <div class="ic--ignore-global-round image-container" style="padding-bottom: 100%;"><img
        src="{{ 'rotate-aside7.png' | asset_img_url: 'master' }}" alt=""></div>
  </div>
  <div class="rotate-aside-item">
    <div class="ic--ignore-global-round image-container" style="padding-bottom: 100%;"><img
        src="{{ 'rotate-aside8.png' | asset_img_url: 'master' }}" alt=""></div>
  </div>
  {%- else -%}
  {%- for i in (1..10) -%}
  {% capture image %}scrolling_image_effect_{{ i }}{% endcapture %}
  {%- if settings[image] -%}
  <div class="rotate-aside-item">
    {% render 'image-container',
    image: settings[image],
    sizes: '400px',
    padding_no_bg: padding_no_bg,
    padding: padding,
    class_img: 'w-100',
    class_ic: 'ic--ignore-global-round',
    cover: false,
    bg: false,
    is_link: false,
    hover_scale: false
    %}
  </div>
  {%- endif -%}
  {%- endfor -%}
  {%- endif -%}
</rotate-aside>
{%- endif -%}
{%- endif -%}

{% render 'dark-light-switcher' %}




{%- if settings.product_card_rating_vendor == 'rivyo' -%}
<script>
  try {
    window.fetch = new Proxy(window.fetch, {
      apply(fetch, that, args) {
        var result = fetch.apply(that, args);
        return result.then((response) => {
          if (args[0].search && (args[0].search(/collections\/all/) >= 0 || args[0].search(window.location.pathname) >= 0)) {
            setTimeout(function () {
              if (jq_lumia('.wc_product_review_badge').length > 0) {
                var ajax_shop_badge_url = Shopify.shop;
                var ajax_product_handle = new Array(),
                  wc_product_id_grid_array = new Array();
                if (typeof ajax_shop_badge_url != 'undefined') {
                  ajax_shop_badge_url = ajax_shop_badge_url.replace(/^https?\:\/\//i, '');
                }
                jq_lumia('.wc_product_review_badge').each(function (idx, val) {
                  if (jq_lumia(this).is(':empty')) {
                    if (jq_lumia(this).data('product_id')) {
                      wc_product_id_grid_array.push(jq_lumia(this).data('product_id'));
                    } else {
                      ajax_product_handle.push(jq_lumia(this).data('handle'));
                    }
                  }
                });
                if (wc_product_id_grid_array.length != 0 || ajax_product_handle.length != 0) {
                  jq_lumia.ajax({
                    url: '//thimatic-apps.com/product_review/get_review_rating_update.php',
                    type: 'post',
                    dataType: 'json',
                    data: {
                      shop: ajax_shop_badge_url,
                      product_handles: ajax_product_handle,
                      product_ids: wc_product_id_grid_array
                    },
                    success: function (result) {
                      if (result.empty) {
                        jq_lumia('.wc_product_review_badge:empty').html(result.empty.html);
                        jq_lumia.each(result, function (key, value) {
                          jq_lumia('.wc_product_review_badge[data-handle="' + key + '"]').html(value.html);
                          jq_lumia('.wc_product_review_badge[data-product_id="' + key + '"]').html(value.html);
                        });
                      }
                    },
                    error: function (XMLHttpRequest, textStatus) {
                      console.log(XMLHttpRequest);
                    }
                  });
                }
              }
            }, 750);
          }
        }), result
      }
    });

  } catch (A) {
    console.log(A), console.log("error catching ajax cart")
  }
</script>
{%- endif -%}