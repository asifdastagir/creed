{%- liquid
  assign show_newsletter = true
  if customer and customer.accepts_marketing
  assign show_newsletter = false
  endif -%}
{%- form 'customer', class: 'newsletter-form', name: 'newsletter' -%}
<input type="hidden" name="contact[tags]" value="newsletter">
{%- if form.posted_successfully? -%}
  {% render 'newsletters-subscription-success' %}
{%- endif -%}
    {%- if form.errors -%}
      <script>
        document.querySelector('body').classList.remove('newslettermodal-error');
      </script>
    {%- endif -%}
    {%- if section.settings.newsletter_enable and show_newsletter -%}
      <div class="footer-top subscribe-footer text-center pt-2 pb-3 py-md-2">
        <div class="container">
          <div class="row align-items-center justify-content-center gx-5 gy-2">
            <div class="col-auto">
              <div class="subscribe-footer-title-sm heading-font">{{ 'theme.general.subscribe_subheading_4' | t }}:</div>
            </div>
            <div class="col-auto">
              <div class="subscribe-footer-input-group">
                {% render 'footer-subscribe-core', form: form %}
              </div>
            </div>
          </div>
        </div>
      </div>
    {%- endif -%}
{%- endform -%}