{%- liquid
    assign placement = placement | default: 'bottom'
    case settings.section_decoration
        when "1"
            assign section_decoration = "none"
        when "2"
            assign section_decoration = "grunge1"
        when "3"
            assign section_decoration = "grunge2"
        when "4"
            assign section_decoration = "grunge3"
        when "5"
            assign section_decoration = "paper"
        when "6"
            assign section_decoration = "mountains"
        when "7"
            assign section_decoration = "ellipse1"
        when "8"
            assign section_decoration = "ellipse2"
        when "9"
            assign section_decoration = "wave1"
        when "10"
            assign section_decoration = "wave2"
        when "11"
            assign section_decoration = "wave3"
        when "21"
            assign section_decoration = "wave4"
        when "22"
            assign section_decoration = "wave5"
        when "12"
            assign section_decoration = "triangle1"
        when "13"
            assign section_decoration = "triangle2"
        when "14"
            assign section_decoration = "triangle_assymetrical1"
        when "15"
            assign section_decoration = "triangle_assymetrical1_flip"
        when "16"
            assign section_decoration = "triangle_assymetrical2"
        when "17"
            assign section_decoration = "triangle_assymetrical2_flip"
        when "18"
            assign section_decoration = "tilt"
        when "19"
            assign section_decoration = "tilt_flip"
        when "20"
            assign section_decoration = "glaze"
    endcase
    assign section_decoration_top = section.settings.section_decoration_top
    assign section_decoration_bottom = section.settings.section_decoration_bottom
    assign section_decoration_top_color_type = section.settings.section_decoration_top_color_type
    assign section_decoration_top_color = section.settings.section_decoration_top_color
    assign section_decoration_bottom_color_type = section.settings.section_decoration_bottom_color_type
    assign section_decoration_bottom_color = section.settings.section_decoration_bottom_color

    assign show = true

    if section_decoration == 'none' or section_decoration_top == 'none' or section_decoration_bottom == 'none'
        assign show = false
    endif

    if placement == 'top' and section_decoration_top != 'none'
        assign show = true

        if section_decoration_top != 'global'
            assign section_decoration = section_decoration_top
        endif
    endif

    if placement == 'bottom' and section_decoration_bottom != 'none'
        assign show = true

        if section_decoration_bottom != 'global'
            assign section_decoration = section_decoration_bottom
        endif
    endif

    if section_decoration == 'none'
        assign show = false
    endif

    assign bg_color = 'var(--body-bg)'

    if placement == 'top'
        case section_decoration_top_color_type
            when 'color_global_secondary_bg'
                assign bg_color = 'var(--body-bg-secondary)'

            when 'color_header_main_bg'
                assign bg_color = 'var(--header-content-bg)'

            when 'color_footer_top_bg'
                assign bg_color = 'var(--footer-top-bg)'
        endcase

    elsif placement == 'bottom'
        case section_decoration_bottom_color_type
            when 'color_global_secondary_bg'
                assign bg_color = 'var(--body-bg-secondary)'

            when 'color_header_main_bg'
                assign bg_color = 'var(--header-content-bg)'

            when 'color_footer_top_bg'
                assign bg_color = 'var(--footer-top-bg)'
        endcase
    endif


    if placement == 'top' and section_decoration_top_color != blank and section_decoration_top_color != 'rgba(0,0,0,0)' and section_decoration_top_color_type == 'custom'
        assign bg_color = section_decoration_top_color
    endif

    if placement == 'bottom' and section_decoration_bottom_color != blank and section_decoration_bottom_color != 'rgba(0,0,0,0)' and section_decoration_bottom_color_type == 'custom'
        assign bg_color = section_decoration_bottom_color
    endif

    if template.suffix contains 'separators'
        assign section_decoration = 'none'

        if template.suffix contains 'separators.' and section_decoration_top == 'global' or section_decoration_bottom == 'global'
            assign show = true
            assign section_decoration = template.suffix | replace: 'separators.', ''

            if section_decoration contains '.bottom'
                assign section_decoration = section_decoration | replace: '.bottom', ''

                if placement == 'top'
                    assign show = false
                endif
            endif

            if section_decoration contains '.top'
                assign section_decoration = section_decoration | replace: '.top', ''

                if placement == 'bottom'
                    assign show = false
                endif
            endif
        endif
    endif
-%}

{%- if show -%}
    <div class="holder {% if placement == 'top' %}mt-global{% else %}mt-0{% endif %} holder--edge style-{{ section_decoration }} {{ section.settings.layout }} {% if section.settings.layout contains 'slideshow' and section.settings.slideshow_fullheight_mobile %}holder--edge-slider-fullheigth-mobile{% endif %}{% if section.settings.layout contains 'slideshow' and section.settings.fluid %}holder--edge-slider {{ decorCompensateSm }}{% endif %}" {% render 'section-style', section: section, placement: placement %}>
        <div class="edge-{{ placement }}" style="--edge-bg: {{ bg_color }}">
            {%- liquid
                if placement == 'bottom'
                    assign section_decoration = section_decoration | append: '-bottom'
                endif

                render 'icon', icon: section_decoration
            -%}
        </div>
    </div>
{%- endif -%}
