<product-tabs>
    <div class="swiper-container tab-wrap-nav">
    <div class="swiper-scrollbar"></div>
    <div class="swiper-wrapper">
    {%- for block in blocks -%}
        {%- liquid
            if block.type == 'description' and product.description == blank
            continue
            endif
        -%}
        <div class="swiper-slide">{{ block.settings.heading | default: block.settings.page.title }}</div>
        {%- endfor -%}
    </div>
    </div>
    <div class="swiper-container tab-wrap-content product-tab-wrap">
    <div class="swiper-wrapper">
        {%- for block in blocks -%}
        {%- liquid
            if block.type == 'description' and product.description == blank
            continue
            endif
        -%}
        <div class="swiper-slide">
            <div class="tab-content">
            <div class="rte">
                {%- liquid
                if block.type == 'description'
                    echo product.description
                elsif block.type == 'collapsible_tab_apps'
                    assign apps = section.blocks | where: 'type', '@app'
                    for app in apps
                    render app
                    endfor
                elsif block.type == 'page_source'
                    echo '<pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 12px; line-height: 1.4; white-space: pre-wrap; word-wrap: break-word;"><code>'
                    echo content_for_layout | escape
                    echo '</code></pre>'
                elsif block.type == 'dynamic_accordion'
                    # For horizontal tabs, we'll show a summary of available content
                    echo '<div class="dynamic-accordion-summary">'
                    if block.settings.show_product_description and product.description != blank
                        echo '<h4>' | append: block.settings.product_description_heading | default: 'Product Description' | append: '</h4>'
                        echo product.description
                    endif
                    if block.settings.show_meta_fields and block.settings.page != blank
                        for meta_field in block.settings.page.metafields
                            if meta_field.value != blank and meta_field.value != null
                                echo '<h4>' | append: meta_field.key | replace: '_', ' ' | capitalize | append: '</h4>'
                                if meta_field.value.value
                                    echo meta_field.value.value
                                else
                                    echo meta_field.value
                                endif
                            endif
                        endfor
                    endif
                    if block.settings.show_specifications and block.settings.page != blank
                        for spec in block.settings.page.metafields.specifications
                            if spec.value != blank and spec.value != null
                                echo '<h4>' | append: spec.key | replace: '_', ' ' | capitalize | append: '</h4>'
                                if spec.value.value
                                    echo spec.value.value
                                else
                                    echo spec.value
                                endif
                            endif
                        endfor
                    endif
                    if block.settings.show_features and block.settings.page != blank
                        for feature in block.settings.page.metafields.features
                            if feature.value != blank and feature.value != null
                                echo '<h4>' | append: feature.key | replace: '_', ' ' | capitalize | append: '</h4>'
                                if feature.value.value
                                    echo feature.value.value
                                else
                                    echo feature.value
                                endif
                            endif
                        endfor
                    endif
                    if block.settings.show_page_data and block.settings.page != blank
                        echo '<h4>' | append: block.settings.page_data_heading | default: block.settings.page.title | default: 'Page Information' | append: '</h4>'
                        echo block.settings.page.content
                    endif
                    if block.settings.show_custom_content and block.settings.custom_content != blank
                        echo '<h4>' | append: block.settings.custom_content_heading | default: 'Additional Information' | append: '</h4>'
                        echo block.settings.custom_content | replace: '&lt;', '<' | replace: '&gt;', '>' | replace: '&amp;', '&' | replace: '&quot;', '"'
                    endif
                    echo '</div>'
                else
                    echo block.settings.content | replace: '&lt;', '<' | replace: '&gt;', '>' | replace: '&amp;', '&' | replace: '&quot;', '"'
                    echo block.settings.page.content
                endif
                -%}
            </div>
            </div>
        </div>
        {%- endfor -%}
    </div>
    </div>
</product-tabs>
