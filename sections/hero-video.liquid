{% comment %}
  Hero Video Section
  A full-screen video hero with overlay text and plus icons
{% endcomment %}

<section class="relative h-screen clip-container bg-black text-white" style="--hero-opacity: 1;">
  <div class="fixed top-0 left-0 w-viewport h-full [opacity:var(--hero-opacity,1);]">
    <div class="px-gutter grid-layout relative z-10 h-full">
      <div class="row-start-1 col-start-1 col-end-5 sm:col-start-1 sm:col-end-5 md:col-start-1 md:col-end-6 flex items-end pb-20 lg:pb-8">
        <div class="flex flex-col gap-5">
          <h1 class="lead-text whitespace-nowrap">
            {% if section.settings.heading_line_1 != blank %}
              <span class="flex">{{ section.settings.heading_line_1 }}</span>
            {% endif %}
            {% if section.settings.heading_line_2 != blank %}
              <span class="flex">{{ section.settings.heading_line_2 }}</span>
            {% endif %}
          </h1>
          {% if section.settings.description != blank %}
            <p class="w-full text-pre large">{{ section.settings.description }}</p>
          {% endif %}
        </div>
      </div>
    </div>
    <div class="absolute inset-0 after:absolute after:inset-0 after:bg-black/30" style="opacity: 1;">
      {% if section.settings.mobile_video != blank %}
        <div class="relative w-full h-screen object-cover lg:hidden">
          <video class="w-full h-full relative object-cover" 
                 autoplay="" 
                 loop="" 
                 playsinline="" 
                 muted="" 
                 preload="auto"
                 poster="{{ section.settings.mobile_poster | image_url: width: 1200 }}">
            <source src="{{ section.settings.mobile_video }}" type="video/webm">
            {% if section.settings.mobile_video_mp4 != blank %}
              <source src="{{ section.settings.mobile_video_mp4 }}" type="video/mp4">
            {% endif %}
          </video>
        </div>
      {% endif %}
      {% if section.settings.desktop_video != blank %}
        <div class="relative w-full h-screen object-cover focal-point-center -lg:hidden">
          <video class="w-full h-full relative object-cover" 
                 autoplay="" 
                 loop="" 
                 playsinline="" 
                 muted="" 
                 preload="auto"
                 poster="{{ section.settings.desktop_poster | image_url: width: 1920 }}">
            <source src="{{ section.settings.desktop_video }}" type="video/webm">
            {% if section.settings.desktop_video_mp4 != blank %}
              <source src="{{ section.settings.desktop_video_mp4 }}" type="video/mp4">
            {% endif %}
          </video>
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Hero Video",
  "tag": "section",
  "class": "hero-video-section",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading_line_1",
      "label": "Heading Line 1",
      "default": "Active for"
    },
    {
      "type": "text",
      "id": "heading_line_2",
      "label": "Heading Line 2",
      "default": "the Faithful"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Technical training apparel which blends performance with faith conscious design"
    },
    {
      "type": "header",
      "content": "Video Settings"
    },
    {
      "type": "url",
      "id": "mobile_video",
      "label": "Mobile Video (WebM)",
      "info": "Recommended: WebM format for mobile devices"
    },
    {
      "type": "url",
      "id": "mobile_video_mp4",
      "label": "Mobile Video (MP4)",
      "info": "Fallback MP4 format for mobile devices (optional)"
    },
    {
      "type": "url",
      "id": "desktop_video",
      "label": "Desktop Video (WebM)",
      "info": "Recommended: WebM format for desktop devices"
    },
    {
      "type": "url",
      "id": "desktop_video_mp4",
      "label": "Desktop Video (MP4)",
      "info": "Fallback MP4 format for desktop devices (optional)"
    },
    {
      "type": "image_picker",
      "id": "mobile_poster",
      "label": "Mobile Video Poster",
      "info": "Image shown while mobile video loads"
    },
    {
      "type": "image_picker",
      "id": "desktop_poster",
      "label": "Desktop Video Poster",
      "info": "Image shown while desktop video loads"
    }
  ],
  "presets": [
    {
      "name": "Hero Video",
      "category": "Hero"
    }
  ]
}
{% endschema %}
